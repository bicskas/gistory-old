{"version":3,"sources":["app.js","circular.js","force_graph.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["jQuery(document).ready(function ($) {\r\n\r\n\t$('.alert>.close').on('click', function () {\r\n\t\t$(this).parent.remove();\r\n\t});\r\n\r\n\t$(document).on('click', '.confirm', function () {\r\n\t\treturn confirm('Biztos benne?');\r\n\t});\r\n\r\n\t$.ajaxSetup({\r\n\t\theaders: {\r\n\t\t\t'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n\t\t}\r\n\t});\r\n\r\n\t// törlés gomb\r\n\t$(document).on('click', '.torol', function (e) {\r\n\t\te.preventDefault();\r\n\t\tif (confirm('Biztos benne?')) {\r\n\t\t\tvar $this = $(this);\r\n\t\t\t$.ajax({\r\n\t\t\t\turl: $this.attr('href'),\r\n\t\t\t\tmethod: 'DELETE',\r\n\t\t\t\tsuccess: function (resp) {\r\n\t\t\t\t\t$('#item_' + resp.id).remove();\r\n\t\t\t\t},\r\n\t\t\t\terror: function () {\r\n\t\t\t\t\talert('Hiba történt');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\r\n\t/*\r\n\r\n\t var $kereses_mezo = $('#nev1');\r\n\t if ($kereses_mezo.length) {\r\n\t var kepviselok = new Bloodhound({\r\n\t datumTokenizer: Bloodhound.tokenizers.obj.whitespace('nev'),\r\n\t queryTokenizer: Bloodhound.tokenizers.whitespace,\r\n\t remote: {\r\n\t url: '/kereses/'+ $kereses_mezo.data('projectid')+'/%nev',\r\n\t wildcard: '%nev'\r\n\t },\r\n\t limit: 20\r\n\t });\r\n\r\n\t kepviselok.initialize();\r\n\r\n\t $('#typeahead .typeahead').typeahead(null, {\r\n\t name: 'kepviselo-nev',\r\n\t displayKey: 'nev',\r\n\t source: kepviselok.ttAdapter(),\r\n\t hint: true,\r\n\t highlight: true,\r\n\t minLength: 2,\r\n\t limit: 10\r\n\t });\r\n\t }\r\n\t */\r\n\r\n\t//----------------------------ábrák megjelenítése---------------\r\n\r\n\tif($('#svg').length > 0){\r\n\t\tcircular();\r\n\t}\r\n\r\n\tif($('#force').length > 0){\r\n\t\tforce();\r\n\t}\r\n\r\n});","/**\r\n * Created by Video on 2016.11.04..\r\n */\r\n\r\nfunction circular() {\r\n\r\n\r\n\r\n\tvar diameter = 960,\r\n\t\tradius = diameter / 2,\r\n\t\tinnerRadius = radius - 120;\r\n\r\n\tvar cluster = d3.layout.cluster()\r\n\t\t.size([360, innerRadius])\r\n\t\t.sort(null)\r\n\t\t.value(function (d) {\r\n\t\t\treturn d.size;\r\n\t\t});\r\n\r\n\tvar bundle = d3.layout.bundle();\r\n\r\n\tvar line = d3.svg.line.radial()\r\n\t\t.interpolate(\"bundle\")\r\n\t\t.tension(.85)\r\n\t\t.radius(function (d) {\r\n\t\t\treturn d.y;\r\n\t\t})\r\n\t\t.angle(function (d) {\r\n\t\t\treturn d.x / 180 * Math.PI;\r\n\t\t});\r\n\r\n\tvar svg = d3.select(\"#svg\").append(\"svg\")\r\n\t\t.attr(\"width\", diameter)\r\n\t\t.attr(\"height\", diameter)\r\n\t\t.append(\"g\")\r\n\t\t.attr(\"transform\", \"translate(\" + radius + \",\" + radius + \")\");\r\n\r\n\tvar link = svg.append(\"g\").selectAll(\".link\"),\r\n\t\tnode = svg.append(\"g\").selectAll(\".node\");\r\n\r\n\t// d3.json(\"/json/readme-flare-imports2.json\", function (error, classes) {\r\n\td3.json($('#svg').data('json'), function (error, classes) {\r\n\t\tif (error) throw error;\r\n\r\n\t\tvar nodes = cluster.nodes(packageHierarchy(classes)),\r\n\t\t\tlinks = packageImports(nodes);\r\n\r\n\t\tlink = link\r\n\t\t\t.data(bundle(links))\r\n\t\t\t.enter().append(\"path\")\r\n\t\t\t.each(function (d) {\r\n\t\t\t\td.source = d[0], d.target = d[d.length - 1];\r\n\t\t\t})\r\n\t\t\t.attr(\"class\", \"link\")\r\n\t\t\t.attr(\"d\", line);\r\n\r\n\t\tnode = node\r\n\t\t\t.data(nodes.filter(function (n) {\r\n\t\t\t\treturn !n.children;\r\n\t\t\t}))\r\n\t\t\t.enter().append(\"text\")\r\n\t\t\t.attr(\"class\", \"node\")\r\n\t\t\t.attr(\"dy\", \".31em\")\r\n\t\t\t.attr(\"transform\", function (d) {\r\n\t\t\t\treturn \"rotate(\" + (d.x - 90) + \")translate(\" + (d.y + 8) + \",0)\" + (d.x < 180 ? \"\" : \"rotate(180)\");\r\n\t\t\t})\r\n\t\t\t.style(\"text-anchor\", function (d) {\r\n\t\t\t\treturn d.x < 180 ? \"start\" : \"end\";\r\n\t\t\t})\r\n\t\t\t.text(function (d) {\r\n\t\t\t\treturn d.key;\r\n\t\t\t})\r\n\t\t\t.on(\"mouseover\", mouseovered)\r\n\t\t\t.on(\"mouseout\", mouseouted);\r\n\t});\r\n\r\n\tfunction mouseovered(d) {\r\n\t\tnode\r\n\t\t\t.each(function (n) {\r\n\t\t\t\tn.target = n.source = false;\r\n\t\t\t});\r\n\r\n\t\tlink\r\n\t\t\t.classed(\"link--target\", function (l) {\r\n\t\t\t\tif (l.target === d) return l.source.source = true;\r\n\t\t\t})\r\n\t\t\t.classed(\"link--source\", function (l) {\r\n\t\t\t\tif (l.source === d) return l.target.target = true;\r\n\t\t\t})\r\n\t\t\t.filter(function (l) {\r\n\t\t\t\treturn l.target === d || l.source === d;\r\n\t\t\t})\r\n\t\t\t.each(function () {\r\n\t\t\t\tthis.parentNode.appendChild(this);\r\n\t\t\t});\r\n\r\n\t\tnode\r\n\t\t\t.classed(\"node--target\", function (n) {\r\n\t\t\t\treturn n.target;\r\n\t\t\t})\r\n\t\t\t.classed(\"node--source\", function (n) {\r\n\t\t\t\treturn n.source;\r\n\t\t\t});\r\n\t}\r\n\r\n\tfunction mouseouted(d) {\r\n\t\tlink\r\n\t\t\t.classed(\"link--target\", false)\r\n\t\t\t.classed(\"link--source\", false);\r\n\r\n\t\tnode\r\n\t\t\t.classed(\"node--target\", false)\r\n\t\t\t.classed(\"node--source\", false);\r\n\t}\r\n\r\n\td3.select(self.frameElement).style(\"height\", diameter + \"px\");\r\n\r\n// Lazily construct the package hierarchy from class names.\r\n\tfunction packageHierarchy(classes) {\r\n\t\tvar map = {};\r\n\r\n\t\tfunction find(name, data) {\r\n\t\t\tvar node = map[name], i;\r\n\t\t\tif (!node) {\r\n\t\t\t\tnode = map[name] = data || {name: name, children: []};\r\n\t\t\t\tif (name.length) {\r\n\t\t\t\t\tnode.parent = find(name.substring(0, i = name.lastIndexOf(\".\")));\r\n\t\t\t\t\tnode.parent.children.push(node);\r\n\t\t\t\t\tnode.key = name.substring(i + 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn node;\r\n\t\t}\r\n\r\n\t\tclasses.forEach(function (d) {\r\n\t\t\tfind(d.name, d);\r\n\t\t});\r\n\r\n\t\treturn map[\"\"];\r\n\t}\r\n\r\n// Return a list of imports for the given array of nodes.\r\n\tfunction packageImports(nodes) {\r\n\t\tvar map = {},\r\n\t\t\timports = [];\r\n\r\n\t\t// Compute a map from name to node.\r\n\t\tnodes.forEach(function (d) {\r\n\t\t\tmap[d.name] = d;\r\n\t\t});\r\n\r\n\t\t// For each import, construct a link from the source to target node.\r\n\t\tnodes.forEach(function (d) {\r\n\t\t\tif (d.imports) d.imports.forEach(function (i) {\r\n\t\t\t\timports.push({source: map[d.name], target: map[i]});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\treturn imports;\r\n\t}\r\n\r\n}","/**\r\n * Created by Video on 2016.11.05..\r\n */\r\n\r\n\r\nfunction force() {\r\n\r\n\tvar svg = d3.select(\"#force > svg\"),\r\n\t\twidth = +svg.attr(\"width\"),\r\n\t\theight = +svg.attr(\"height\");\r\n\r\n\tvar color = d3.scaleOrdinal(d3.schemeCategory20);\r\n\t/*var color = function (valami) {\r\n\t return '#fff';\r\n\t };*/\r\n\r\n\tvar simulation = d3.forceSimulation()\r\n\t\t.force(\"link\", d3.forceLink().id(function (d) {\r\n\t\t\treturn d.id;\r\n\t\t}))\r\n\t\t.force(\"charge\", d3.forceManyBody())\r\n\t\t.force(\"center\", d3.forceCenter(width / 2, height / 2));\r\n\r\n\td3.json($('#force').data('json'), function (error, graph) {\r\n\t\tif (error) throw error;\r\n\r\n\t\tvar link = svg.append(\"g\")\r\n\t\t\t.attr(\"class\", \"links\")\r\n\t\t\t.selectAll(\"line\")\r\n\t\t\t.data(graph.links)\r\n\t\t\t.enter().append(\"line\")\r\n\t\t\t.attr(\"stroke-width\", function (d) {\r\n\t\t\t\treturn Math.sqrt(d.value);\r\n\t\t\t});\r\n\r\n\t\tvar node = svg.append(\"g\")\r\n\t\t\t.attr(\"class\", \"nodes\")\r\n\t\t\t.selectAll(\"circle\")\r\n\t\t\t.data(graph.nodes)\r\n\t\t\t.enter().append(\"circle\")\r\n\t\t\t.attr(\"r\", 6)\r\n\t\t\t.attr(\"fill\", function (d) {\r\n\t\t\t\treturn color(d.group);\r\n\t\t\t})\r\n\t\t\t.call(d3.drag()\r\n\t\t\t\t.on(\"start\", dragstarted)\r\n\t\t\t\t.on(\"drag\", dragged)\r\n\t\t\t\t.on(\"end\", dragended));\r\n\r\n\t\tnode.append(\"title\")\r\n\t\t\t.text(function (d) {\r\n\t\t\t\treturn d.id;\r\n\t\t\t});\r\n\r\n\t\tsimulation\r\n\t\t\t.nodes(graph.nodes)\r\n\t\t\t.on(\"tick\", ticked);\r\n\r\n\t\tsimulation.force(\"link\")\r\n\t\t\t.links(graph.links);\r\n\r\n\t\tfunction ticked() {\r\n\t\t\tlink\r\n\t\t\t\t.attr(\"x1\", function (d) {\r\n\t\t\t\t\treturn d.source.x;\r\n\t\t\t\t})\r\n\t\t\t\t.attr(\"y1\", function (d) {\r\n\t\t\t\t\treturn d.source.y;\r\n\t\t\t\t})\r\n\t\t\t\t.attr(\"x2\", function (d) {\r\n\t\t\t\t\treturn d.target.x;\r\n\t\t\t\t})\r\n\t\t\t\t.attr(\"y2\", function (d) {\r\n\t\t\t\t\treturn d.target.y;\r\n\t\t\t\t});\r\n\r\n\t\t\tnode\r\n\t\t\t\t.attr(\"cx\", function (d) {\r\n\t\t\t\t\treturn d.x;\r\n\t\t\t\t})\r\n\t\t\t\t.attr(\"cy\", function (d) {\r\n\t\t\t\t\treturn d.y;\r\n\t\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\tfunction dragstarted(d) {\r\n\t\tif (!d3.event.active) simulation.alphaTarget(0.1).restart();\r\n\t\td.fx = d.x;\r\n\t\td.fy = d.y;\r\n\t}\r\n\r\n\tfunction dragged(d) {\r\n\t\td.fx = d3.event.x;\r\n\t\td.fy = d3.event.y;\r\n\t}\r\n\r\n\tfunction dragended(d) {\r\n\t\tif (!d3.event.active) simulation.alphaTarget(0);\r\n\t\td.fx = null;\r\n\t\td.fy = null;\r\n\t}\r\n}"],"sourceRoot":"/source/"}